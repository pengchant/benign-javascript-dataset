!function(){var i,s,r,n="amplify-hpset",t="ieInstallerLightbox";function e(e){var o=this;o.config=e||{},o.browser=e.browserName,o.browserVersion=e.browserVersion,o.osName="string"==typeof e.osName?e.osName.slice(0,3):"",o.extensions=e.hpSet,o.hpCookieValue=e.hpCookieValue,o.btnNode=s.getElementById(n),o.ieInstallerLBNode=s.getElementById(t),o.bodyNode=s.querySelector("body"),o.btnNode&&o.initBtn()}function o(){new e(r)}function l(e,o,n){i=e,s=o,r=n||{"browserName":"chrome","browserVersion":"81.0","hpCookieValue":0,"hpSet":{"disabledFrYhs":1,"enabled":1,"hashTag":"","markupFlagClassName":"yahoo_hp_set_ext_installed","chrome":{"enabled":1,"url":"https://chrome.google.com/webstore/detail/jccfgghhbihbhomnlnadpjhkhmmboanj","minVersion":31,"maxVersion":0,"os":["win","mac"]},"edge":{"enabled":false,"url":"https://microsoftedge.microsoft.com/addons/detail/jdmefnjfemopmmkchjppgoklneobkafl","minVersion":13,"maxVersion":83,"os":["win","mac"]},"firefox":{"enabled":1,"url":"https://addons.mozilla.org/en-US/firefox/addon/yahoo-homepage/","xpi":"https://addons.mozilla.org/firefox/downloads/latest/yahoo-homepage/addon-705134-latest.xpi","minVersion":38,"maxVersion":0,"os":["win","mac"]},"ie":{"enabled":1,"url":"https://sxh.yimg.com/jf/dyc/IEinstall/hpset_2017.11.14.02.exe","minVersion":11,"maxVersion":11,"os":["win"]}},"osName":"windows nt"}}e.prototype={initBtn:function(){var o=this;if("chrome"===o.browser||"edge"===o.browser)o.handleVerification();else if("firefox"===o.browser){if(i.indexedDB){var e=i.indexedDB.open("test");e.onsuccess=o.handleVerification.bind(o),e.onerror=function(e){o.hideButton()}}}else"ie"===o.browser&&(i.indexedDB||!i.PointerEvent&&!i.MSPointerEvent||o.hideButton(),o.handleVerification())},hideButton:function(){this.btnNode&&this.btnNode.classList.add("D(n)")},handleVerification:function(){for(var e=this,o=!1,n={chrome:[e.checkIsExcludedVersion],edge:[e.checkIsExcludedVersion],firefox:[e.checkIsExcludedVersion],ie:[e.checkIsExcludedVersion,e.checkDependenciesFail]}[e.browser]||[],i=0,s=n.length;i<s&&(o=!n[i].call(e));i++);o?e.setupClickEvent():"chrome"!==e.browser&&"firefox"!==e.browser&&"edge"!==e.browser||e.setHPCookie()},checkIsExcludedVersion:function(){var e=this,o=e.extensions[e.browser],n=!0;return o&&(!o.minVersion||e.browserVersion>=o.minVersion)&&(!o.maxVersion||e.browserVersion<=o.maxVersion)&&(!o.os||0<=o.os.indexOf(e.osName))&&(n=!1),n},checkDependenciesFail:function(){return!this.ieInstallerLBNode},setupClickEvent:function(){var e=this,o={chrome:e.installChromeExtension,edge:e.installChromeExtension,firefox:e.installFirefoxExtension,ie:e.installExplorerRegistryKey}[e.browser],n=e.extensions[e.browser]&&e.extensions[e.browser].url;"firefox"===e.browser&&57<=e.browserVersion&&(n=e.extensions[e.browser]&&e.extensions[e.browser].xpi),o&&n&&(e.btnNode.addEventListener("click",function(){o.call(e,n)}),e.showModule())},showModule:function(){var e=this;e.btnNode.classList.remove("D(n)");var o=i.YAHOO&&i.YAHOO.i13n&&i.YAHOO.i13n.rapidInstance||i.rapidInstance;if(o&&e.btnNode&&e.bodyNode.className.indexOf("uh-banner-wide")<0){var n={_links:[{elm:"btn",slk:"Make Yahoo your homepage"}],sec:"app-hpse"};o.beaconLinkViews([n])}},installChromeExtension:function(e){this.setHPCookie(),i.open(e,"_blank")},installFirefoxExtension:function(e){var o=".xpi"===e.substr(-4)?"_self":"_blank";this.setHPCookie(),i.open(e,o)},installExplorerRegistryKey:function(e){var o=this;o.ieInstallerLBNode&&o.ieInstallerLBNode.classList.remove("D(n)"),o.setHPCookie(),i.open(e,"_self")},setHPCookie:function(){var e=new Date;e.setTime(e.getTime()+1728e5),s.cookie="HP=1; expires="+e+"; path=/; domain=.yahoo.com"}},"undefined"!=typeof module?(module.exports.HpSetButtonHandler=e,module.exports.defineGlobals=l,module.exports.initHPPromoButton=o):(l(window,document),o())}();