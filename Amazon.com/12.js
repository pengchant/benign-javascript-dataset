
!function(){function n(n,t){var r=i(n);return t&&(r=r("instance",t)),r}var r=[],c=0,i=function(t){return function(){var n=c++;return r.push([t,[].slice.call(arguments,0),n,{time:Date.now()}]),i(n)}};n._s=r,this.csa=n}();;
csa('Config', {"Content.EnableContentEntities":false,"PageViews.EnableDetectionHiddenIframes":true,"Content.InstrumentLinks":false});
if (window.csa) {
    csa("Config", {
        'Application': 'Retail',
        'ObfuscatedMarketplaceId': 'ATVPDKIKX0DER',
        'Events.SushiEndpoint': 'https://unagi.amazon.com/1/events/com.amazon.csm.csa.prod',
        'CacheDetection.RequestID': "CVD5S15BBNFDZZ1SM5C3",
        'CacheDetection.Callback': window.ue && ue.reset
    });

    csa("Events")("setEntity", {
        page: {requestId: "CVD5S15BBNFDZZ1SM5C3", meaningful: "interactive"},
        session: {id: "137-5657076-9915411"}
    });
}
!function(n){var e,o,r="splice",i=n.csa,t={},u={},f=n.csa._s,c=0,a={},s={},g=setTimeout,l=Object.keys;function h(n,t){return i(n,t)}function d(n,t){var i=u[n]||{};O(i,t),u[n]=i,g(y,0)}function p(n,t){a[n]||(a[n]=[]),a[n].push(t)}function v(n,t){if(n in s)t(s[n]);else{p(n,function(n){return t(n),!1})}}function m(n){if(t.DEBUG)throw n}function w(){return Math.abs(4294967295*Math.random()|0).toString(36)}function b(n,t){return function(){try{n.apply(this,arguments)}catch(n){m(n.message)}}}function y(){for(var n=0;n<f.length;){var t=f[n],i=t[0]in u;if(!i&&!o)return void(c=t.length);i?(f[r](c=n,1),S(t)):n++}}function S(n){var arguments,t=u[n[0]],i=(arguments=n[1])[0];if(!t||!t[i])return m("Undefined function: "+t+"/"+i);e=n[3],u[n[2]]=t[i].apply(t,arguments.slice(1))||{},e=0}function D(){o=1,y()}function O(t,i){l(i).forEach(function(n){t[n]=i[n]})}v("$beforeunload",D),d("Config",{instance:function(n){O(t,n)}}),i.plugin=b(function(n){n(h)}),h.config=t,h.register=d,h.on=p,h.removeListener=function(n,t){var i=a[n];i&&i[r](i.indexOf(t),1)},h.once=v,h.emit=function(n,t){for(var i=a[n]||[],e=0;e<i.length;)!1===i[e](t)?i[r](e,1):e++;s[n]=t||{}},h.UUID=function(){return[w(),w(),w(),w()].join("-")},h.time=function(n){var t=e?new Date(e.time):new Date;return"ISO"===n?t.toISOString():t.getTime()},h.error=m,h.exec=b,(h.global=n).csa._s.push=function(n){n[0]in u&&(!f.length||o)?S(n):f[r](c++,0,n)},y(),g(function(){g(D,t.SkipMissingPluginsTimeout||5e3)},1)}("undefined"!=typeof window?window:global);csa.plugin(function(t){var e;function n(){if(!e)try{e=t.global.localStorage||{}}catch(t){e={}}}t.store=function(t,c){try{if(n(),!t)return Object.keys(e);if(!c)return e[t];e[t]=c}catch(t){}},t.deleteStored=function(t){try{n(),delete e[t]}catch(t){}}});csa.plugin(function(n){var r,e=n.global,o=n("Events"),i=e.location,f=e.document,a=((e.performance||{}).navigation||{}).type,t=e.addEventListener,c=n.emit;function d(a){var e=!!r;e&&(c("$beforePageTransition"),c("$pageTransition"),o("removeEntity","page"));var t={schemaId:"csa.PageEntity.1",id:r=n.UUID(),url:i.href,server:i.hostname,path:i.pathname,referrer:f.referrer,title:f.title};Object.keys(a||{}).forEach(function(e){t[e]=a[e]}),o("setEntity",{page:t}),e&&c("$afterPageTransition")}function l(){c("$load"),c("$afterload")}function s(){c("$beforeunload"),c("$unload"),c("$afterunload")}i&&f&&(t&&(t("beforeunload",s),t("pagehide",s),"complete"===f.readyState?l():t("load",l)),n.register("SPA",{newPage:d}),d({transitionType:{0:"hard",1:"refresh",2:"back-button"}[a]||"unknown"}))});csa.plugin(function(c){var t="UNKNOWN",u="id",r="all",e="messageId",i="timestamp",a="producerId",o="application",f="obfuscatedMarketplaceId",s="entities",d="schemaId",l="version",p="attributes",v=c.config,I=c("Transport"),g={},m=function(n,t){Object.keys(n).forEach(t)};function O(e,i,o){m(i,function(n){var t=o===r||(o||{})[n];n in e||(e[n]={version:1,id:i[n][u]||c.UUID()}),b(e[n],i[n],t)})}function b(t,e,i){m(e,function(n){!0!==i&&1!==i&&!function(n,t){return n===u||!!~(t||[]).indexOf(n)}(n,i)||(t[n]=e[n])})}function y(o,n,c){m(n,function(n){var t=o[n];if(t[d]){var e={},i={};E(e),e[u]=t[u],e[a]=t[a]||c,e[d]=t[d],e[l]=t[l]++,b(e[p]=i,t,1),U(i),I("log",e)}})}function E(n){n[i]=function(n){return"number"==typeof n&&(n=new Date(n).toISOString()),n||c.time("ISO")}(n[i]),n[e]=c.UUID(),n[o]=v.Application||t,n[f]=v.ObfuscatedMarketplaceId||t}function U(n){delete n[l],delete n[d],delete n[a]}function h(o){var c={};this.log=function(n,t){var e={},i=(t||{}).ent;E(n),O(e,g,i),O(e,c,i),O(e,n[s]||{},i),m(e,function(n){U(e[n])}),n[a]=o[a],n[s]=e,I("log",n)},this.setEntity=function(n){O(c,n,r),y(c,n,o[a])}}c.register("Events",{setEntity:function(n){O(g,n,r),y(g,n,"csa")},removeEntity:function(n){delete g[n]},instance:function(n){return new h(n)}})});csa.plugin(function(s){var c,l="Transport",d="post",u="preflight",r="csa.cajun.",i="store",a="deleteStored",n="addEventListener",f="sendBeacon",t=0,e=s.config[l+".BufferSize"]||2e3,g=s.config[l+".RetryDelay"]||1500,o=[],h=0,p=[],v=s.global,y=v.document,m=s.config[l+".FlushInterval"]||5e3,E=0;function T(n){if(864e5<s.time()-+new Date(n.timestamp))return s.error("Event is too old: "+n);h<e&&(o.push(n),h++,!E&&t&&(E=setTimeout(R,m)))}function R(){p.forEach(function(t){var e=[];o.forEach(function(n){t.accepts(n)&&e.push(n)}),e.length&&(t.chunks?t.chunks(e).forEach(function(n){S(t,n)}):S(t,e))}),o=[],E=0}function S(t,e){function o(){s[a](r+n)}var n=s.UUID();s[i](r+n,JSON.stringify(e)),[function(n,t,e){var o=v.navigator||{},r=v.cordova||{};if(!o[f]||!n[d])return 0;n[u]&&r&&"ios"===r.platformId&&!c&&((new Image).src=n[u]().url,c=1);var i=n[d](t);if(!i.type&&o[f](i.url,i.body))return e(),1},function(n,t,e){if(!n[d])return 0;var o=n[d](t),r=o.url,i=o.body,c=o.type,u=new XMLHttpRequest,a=0;function f(n,t,e){u.open("POST",n),e&&u.setRequestHeader("Content-Type",e),u.send(t)}return u.onload=function(){u.status<299?e():s.config[l+".XHRRetries"]&&a<3&&setTimeout(function(){f(r,i,c)},++a*g)},f(r,i,c),1}].some(function(n){try{return n(t,e,o)}catch(n){}})}s.once("$afterload",function(){t=1,function(e){(s[i]()||[]).forEach(function(n){if(!n.indexOf(r))try{var t=s[i](n);s[a](n),JSON.parse(t).forEach(e)}catch(n){s.error(n)}})}(T),y&&y[n]&&y[n]("visibilitychange",R,!1),R()}),s.once("$afterunload",function(){t=1,R()}),s.on("$afterPageTransition",function(){h=0}),s.register(l,{log:T,register:function(n){p.push(n)}})});csa.plugin(function(n){var r=n.config["Events.SushiEndpoint"];n("Transport")("register",{accepts:function(n){return n.schemaId},post:function(n){var t=n.map(function(n){return{data:n}});return{url:r,body:JSON.stringify({events:t})}},preflight:function(){var n,t=/\/\/(.*?)\//.exec(r);return t&&t[1]&&(n="https://"+t[1]+"/ping"),{url:n}},chunks:function(n){for(var t=[];500<n.length;)t.push(n.splice(0,500));return t.push(n),t}})});csa.plugin(function(i){var t,a,r,o,e="PageViews",d=i.config[e+".ImpressionMinimumTime"]||1e3,n=i.config[e+".EnableDetectionHiddenIframes"],s="addEventListener",c="hidden",g="innerHeight",f="innerWidth",u="renderedTo",m=u+"Viewed",l=u+"Meaningful",v=u+"Impressed",h=1,p=2,I=3,P=4,T=5,y="loaded",E=7,w=8,b=i.global,V=i("Events",{producerId:"csa"}),H=b.document,M={},S={},$=T;if(!H||!H[s]||void 0===H[c])return D("PageStateChange.2",{state:"ignored"});function C(e){if(!M[E]){var n;if(M[e]=i.time(),e!==I&&e!==y||(t=t||M[e]),t&&$===P)a=a||M[e],(n={})[l]=t-r,n[m]=a-r,D("PageView.4",n),o=o||setTimeout(R,d);if(e!==T&&e!==h&&e!==p||(clearTimeout(o),o=0),e!==h&&e!==p||D("PageRender.3",{transitionType:e===h?"hard":"soft"}),e===E)(n={})[l]=t-r,n[m]=a-r,n[v]=M[e]-r,D("PageImpressed.2",n)}}function D(e,n){S[e]||(n.schemaId="csa."+e,V("log",n,{ent:"all"}),S[e]=1)}function L(){n&&0===b[g]&&0===b[f]?($=w,i("Events")("setEntity",{page:{viewport:"hidden-iframe"}})):$=H[c]?T:P,C($)}function R(){C(E),o=0}function W(){var e=r?p:h;M={},S={},a=t=0,r=i.time(),C(e),L()}function j(){var e=H.readyState;"interactive"===e&&C(I),"complete"===e&&C(y)}W(),H[s]("visibilitychange",L,!1),H[s]("readystatechange",j,!1),i.on("$afterPageTransition",W),i.once("$load",j),i.register(e,{get:function(){return{emit:C}}})});
